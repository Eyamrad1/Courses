{"ast":null,"code":"import { FormsModule } from '@angular/forms'; // Import FormsModule\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/course.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"courseForm\"];\nfunction CourseComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r2.imagePreview, i0.ɵɵsanitizeUrl);\n  }\n}\nexport let CourseComponent = /*#__PURE__*/(() => {\n  class CourseComponent {\n    constructor(courseService, snackBar, router) {\n      this.courseService = courseService;\n      this.snackBar = snackBar;\n      this.router = router;\n      this.selectedFile = null;\n      this.imagePreview = null;\n    }\n    onSubmit(courseForm) {\n      if (!courseForm.valid) return;\n      const formData = new FormData();\n      formData.append('courseName', courseForm.value.courseName);\n      formData.append('price', courseForm.value.price);\n      if (this.selectedFile) formData.append('image', this.selectedFile);\n      this.courseService.AddCourse(formData).subscribe({\n        next: response => {\n          this.snackBar.open('Course added successfully!', 'Close', {\n            duration: 5000\n          });\n          this.router.navigate(['/courseList']);\n          this.resetForm();\n        },\n        error: err => console.error('Error adding course', err)\n      });\n    }\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (file) {\n        this.selectedFile = file;\n        const reader = new FileReader();\n        reader.onload = e => this.imagePreview = e.target?.result;\n        reader.readAsDataURL(file);\n      }\n    }\n    resetForm() {\n      this.courseForm.resetForm();\n      this.imagePreview = null;\n      this.selectedFile = null;\n    }\n    static #_ = this.ɵfac = function CourseComponent_Factory(t) {\n      return new (t || CourseComponent)(i0.ɵɵdirectiveInject(i1.CourseService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CourseComponent,\n      selectors: [[\"app-course\"]],\n      viewQuery: function CourseComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.courseForm = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 23,\n      vars: 2,\n      consts: [[\"courseForm\", \"ngForm\"], [3, \"submit\"], [1, \"form-group\"], [\"for\", \"courseName\"], [2, \"color\", \"red\"], [\"type\", \"text\", \"id\", \"courseName\", \"name\", \"courseName\", \"ngModel\", \"\", \"required\", \"\", \"placeholder\", \"Enter course name\", 1, \"form-control\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", \"ngModel\", \"\", \"required\", \"\", \"placeholder\", \"Enter price in TND\", 1, \"form-control\"], [\"for\", \"image\"], [\"type\", \"file\", \"id\", \"image\", \"name\", \"image\", 1, \"form-control\", 3, \"change\"], [4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"alt\", \"Image Preview\", 1, \"img-fluid\", 3, \"src\"]],\n      template: function CourseComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"form\", 1, 0);\n          i0.ɵɵlistener(\"submit\", function CourseComponent_Template_form_submit_0_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const courseForm_r2 = i0.ɵɵreference(1);\n            return i0.ɵɵresetView(ctx.onSubmit(courseForm_r2));\n          });\n          i0.ɵɵelementStart(2, \"h2\");\n          i0.ɵɵtext(3, \"Add New Course\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n          i0.ɵɵtext(6, \"Course Name \");\n          i0.ɵɵelementStart(7, \"span\", 4);\n          i0.ɵɵtext(8, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(9, \"input\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 6);\n          i0.ɵɵtext(12, \"Price \");\n          i0.ɵɵelementStart(13, \"span\", 4);\n          i0.ɵɵtext(14, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(15, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 2)(17, \"label\", 8);\n          i0.ɵɵtext(18, \"Course Image\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"input\", 9);\n          i0.ɵɵlistener(\"change\", function CourseComponent_Template_input_change_19_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onFileSelected($event));\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(20, CourseComponent_div_20_Template, 2, 1, \"div\", 10);\n          i0.ɵɵelementStart(21, \"button\", 11);\n          i0.ɵɵtext(22, \" Submit \");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const courseForm_r2 = i0.ɵɵreference(1);\n          i0.ɵɵadvance(20);\n          i0.ɵɵproperty(\"ngIf\", ctx.imagePreview);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", !courseForm_r2.valid);\n        }\n      },\n      dependencies: [FormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n      styles: [\"form[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:25px;border:none;border-radius:10px;background-color:#fff;box-shadow:0 8px 16px #00000026}h2[_ngcontent-%COMP%]{font-size:28px;text-align:center;color:#4caf50;margin-bottom:20px;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-size:14px;color:#777;display:inline-block;margin-bottom:6px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px 15px;margin-top:5px;border:1px solid #ddd;border-radius:5px;font-size:16px;color:#333;transition:all .3s ease}input[_ngcontent-%COMP%]::placeholder{color:#aaa}input[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none;box-shadow:0 0 5px #4caf5066}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:14px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:700;cursor:pointer;transition:background-color .3s ease,transform .2s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049;transform:translateY(-2px)}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#e74c3c}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#2ecc71}.img-fluid[_ngcontent-%COMP%]{margin-top:15px;max-width:100%;height:auto;border-radius:8px;border:1px solid #ddd;box-shadow:0 4px 8px #0000001a}@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%]{font-size:24px}}\"]\n    });\n  }\n  return CourseComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
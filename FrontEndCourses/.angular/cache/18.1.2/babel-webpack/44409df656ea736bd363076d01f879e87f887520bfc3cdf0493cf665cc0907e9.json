{"ast":null,"code":"import { FormsModule } from '@angular/forms'; // Import FormsModule\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/course.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"courseForm\"];\nfunction CourseComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r2.imagePreview, i0.ɵɵsanitizeUrl);\n  }\n}\nexport let CourseComponent = /*#__PURE__*/(() => {\n  class CourseComponent {\n    constructor(courseService, snackBar, router) {\n      this.courseService = courseService;\n      this.snackBar = snackBar;\n      this.router = router;\n      this.selectedFile = null;\n      this.imagePreview = null;\n    }\n    ngOnInit() {}\n    onSubmit(courseForm) {\n      if (!courseForm.valid) {\n        return; // If the form is not valid, do nothing\n      }\n      const formData = new FormData();\n      formData.append('courseName', courseForm.value.courseName);\n      formData.append('price', courseForm.value.price);\n      // Check if an image is selected and append it\n      if (this.selectedFile) {\n        formData.append('image', this.selectedFile); // Ensure this matches the backend's expected field name\n      }\n      // Call the service to add the course\n      this.courseService.AddCourse(formData).subscribe({\n        next: response => {\n          console.log('Course added successfully', response);\n          this.router.navigate(['/courseList']);\n          // Show success message\n          this.snackBar.open('Course added successfully!', 'Close', {\n            duration: 7000\n          });\n        },\n        error: err => {\n          console.error('Error adding course', err);\n        }\n      });\n    }\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (file) {\n        this.selectedFile = file;\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.imagePreview = e.target.result;\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n    static #_ = this.ɵfac = function CourseComponent_Factory(t) {\n      return new (t || CourseComponent)(i0.ɵɵdirectiveInject(i1.CourseService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CourseComponent,\n      selectors: [[\"app-course\"]],\n      viewQuery: function CourseComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.courseForm = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 17,\n      vars: 2,\n      consts: [[\"courseForm\", \"ngForm\"], [3, \"submit\"], [1, \"form-group\"], [\"for\", \"courseName\"], [\"type\", \"text\", \"id\", \"courseName\", \"name\", \"courseName\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"image\"], [\"type\", \"file\", \"id\", \"image\", \"name\", \"image\", 1, \"form-control\", 3, \"change\"], [4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"alt\", \"Image Preview\", 1, \"img-fluid\", 3, \"src\"]],\n      template: function CourseComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"form\", 1, 0);\n          i0.ɵɵlistener(\"submit\", function CourseComponent_Template_form_submit_0_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const courseForm_r2 = i0.ɵɵreference(1);\n            return i0.ɵɵresetView(ctx.onSubmit(courseForm_r2));\n          });\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n          i0.ɵɵtext(4, \"Course Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(5, \"input\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 5);\n          i0.ɵɵtext(8, \"Price\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(9, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 7);\n          i0.ɵɵtext(12, \"Image\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"input\", 8);\n          i0.ɵɵlistener(\"change\", function CourseComponent_Template_input_change_13_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onFileSelected($event));\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(14, CourseComponent_div_14_Template, 2, 1, \"div\", 9);\n          i0.ɵɵelementStart(15, \"button\", 10);\n          i0.ɵɵtext(16, \"Submit\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const courseForm_r2 = i0.ɵɵreference(1);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngIf\", ctx.imagePreview);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", !courseForm_r2.valid);\n        }\n      },\n      dependencies: [FormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n      styles: [\"form[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:24px;text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-size:16px;color:#555;margin-bottom:8px;display:inline-block;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px 15px;margin:8px 0;border:1px solid #ddd;border-radius:5px;font-size:16px;transition:border-color .3s ease}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=file][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:14px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#c8e6c9;cursor:not-allowed}img.img-fluid[_ngcontent-%COMP%]{margin-top:15px;max-width:100%;height:auto;border-radius:8px;box-shadow:0 4px 8px #0000001a}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#e74c3c}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#2ecc71}.mat-snack-bar-container[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-size:16px;border-radius:4px;padding:10px;text-align:center;font-weight:700}.mat-snack-bar-container[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{color:#fff}@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:15px}button[type=submit][_ngcontent-%COMP%]{padding:12px}}@media (max-width: 480px){h2[_ngcontent-%COMP%]{font-size:20px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%], button[type=submit][_ngcontent-%COMP%]{padding:10px}}\"]\n    });\n  }\n  return CourseComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}